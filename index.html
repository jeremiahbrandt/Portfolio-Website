<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="Personal portfolio website for Jeremiah Brandt">
        <meta name="keywords" content="HTML, CSS, JavaScript, Web developer, Web designer, Node, Java, PHP, React, SQL, MongoDB">
        <meta name="author" content="Jeremiah Brandt">
        <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">    
        <link href="css/variables.css" type="text/css" rel="stylesheet">
        <link href="css/style.css" type="text/css" rel="stylesheet">
        <link href="css/mobile.css" type="text/css" rel="stylesheet">
        <link href="css/desktop.css" type="text/css" rel="stylesheet">
    </head>
    <body>
        <nav>
            <div id="hamburger" onclick="toggleNavigation()">
                <div></div>
                <div></div>
                <div></div>
            </div>
            <div id="links">
                <a href="#about">About</a>
                <a href="#portfolio">Portfolio</a>
                <a href="#contact">Contact</a>
            </div>
        </nav>
        <main>
            <section id="bio">
                <h1>About Me</h1>
                <img src="#" alt="Picture of Jeremiah Brandt" id="#bio-picture" />
                <p id="bio-paragraph">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quidem repellat, ut magnam dolore incidunt voluptatem ipsa eaque doloremque quae odit assumenda velit. Vitae aliquid tenetur debitis rerum, labore ipsum recusandae?</p>
            </section>
            <section id="portfolio">
                <h1 id="portfolio-title">Portfolio</h1>
                <div id="portfolio-items"></div>
            </section>
            <form action="" method="GET" id="contact">
                <h1>Contact</h1>
                <fieldset id="contact-name">
                    <label for="name">Name:</label>
                    <input name="tel" type="tel" />
                </fieldset>
                <fieldset id="contact-phone">
                    <label for="phone">Phone Number:</label>
                    <input name="text" type="text" required/>
                </fieldset>
                <fieldset id="contact-email">
                    <label for="email">Email Address:</label>
                    <input name="email" type="email" />
                </fieldset>
                <fieldset id="contact-message">
                    <label for="message">Message:</label>
                    <textarea name="message"></textarea>
                </fieldset>
            </form>
        </main>
        <footer>
            <div id="social-media">
                <a href="https://github.com/jeremiahbrandt">
                    <svg role="img" xmlns="http://www.w3.org/2000/svg">
                        <title>GitHub</title>
                        <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
                    </svg>
                </a>
                <a href="https://www.linkedin.com/in/jeremiah-brandt-2997891a7">
                    <svg role="img" xmlns="http://www.w3.org/2000/svg">
                        <title>LinkedIn</title>
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>                    </svg>
                    </svg>
                </a>
                <!-- TOOD: Add Upwork Link -->
                <a href="https://upwork.com/">
                    <svg role="img" xmlns="http://www.w3.org/2000/svg">
                        <title>Upwork</title>
                        <path d="M18.561 13.158c-1.102 0-2.135-.467-3.074-1.227l.228-1.076.008-.042c.207-1.143.849-3.06 2.839-3.06 1.492 0 2.703 1.212 2.703 2.703-.001 1.489-1.212 2.702-2.704 2.702zm0-8.14c-2.539 0-4.51 1.649-5.31 4.366-1.22-1.834-2.148-4.036-2.687-5.892H7.828v7.112c-.002 1.406-1.141 2.546-2.547 2.548-1.405-.002-2.543-1.143-2.545-2.548V3.492H0v7.112c0 2.914 2.37 5.303 5.281 5.303 2.913 0 5.283-2.389 5.283-5.303v-1.19c.529 1.107 1.182 2.229 1.974 3.221l-1.673 7.873h2.797l1.213-5.71c1.063.679 2.285 1.109 3.686 1.109 3 0 5.439-2.452 5.439-5.45 0-3-2.439-5.439-5.439-5.439z"/>
                    </svg>
                </a>
            </div>
            <span id="copyright">
                Copyright <span id="date"></span><a href="http://jeremiahbrandt.com"> Jeremiah Brandt</a>
            </span>
        </footer>
    </body>
    <script>
        const toggleNavigation = () => {
            const links = document.getElementById("links");
            if(links.classList.contains("shown")) {
                links.classList.remove("shown");
            } else {
                links.classList.add("shown");
            }
        }

        const getGithubData = async (githubUsername) => {
            const data = await(await fetch(`https://api.github.com/users/${githubUsername}`)).json();
            return data;
        }

        const getPortfolio = async (githubUsername) => {
            const repos = await(await fetch(`https://api.github.com/users/${githubUsername}/repos`)).json();
            return repos;
        }

        const userName = "jeremiahbrandt";
        // TOD: Reisize images to be consistent
        const repoImages = [
            "./images/joes-barber-shop.png",
            "./images/jj-firewood.png",
            "./images/joes-barber-shop.png",
            "./images/jj-firewood.png",
            // "./images/portfolio-website.png",
            // "./images/weather-app.png"
        ];
        
        getGithubData(userName).then(data => {
            // TODO: Remove
            // console.log(data);

            document.getElementById("#bio-picture").setAttribute("src", data.avatar_url);
            document.getElementById("bio-paragraph").innerHTML = data.bio;
        });

        getPortfolio(userName).then(repos => {
            // TODO: Remove
            // console.log(repos);

            const portfolioNode = document.getElementById("portfolio-items");
            repos.map((repo, index) => {
                // Image was not supplied and repo will not be displayed
                if(repoImages[index] == undefined) {
                    return;
                }
                 const portfolioItemNode = document.createElement("div");
                 portfolioItemNode.className = "portfolio-item";

                // Title
                const titleNode = document.createElement("h2");
                const titleText = document.createTextNode(repo.name);
                titleNode.appendChild(titleText);
                portfolioItemNode.append(titleNode);

                const imageNode = document.createElement("img");
                imageNode.alt = "Repository image";
                imageNode.src = repoImages[index];
                portfolioItemNode.append(imageNode);

                // Description
                const descNode = document.createElement("p");
                const descText = document.createTextNode(repo.description);
                descNode.appendChild(descText);
                portfolioItemNode.append(descNode);

                // Live preview link
                const previewNode = document.createElement('a');
                const previewText = document.createTextNode("Live Preview");
                previewNode.appendChild(previewText);
                previewNode.id = "preview-link";
                previewNode.title = "View live preview";
                previewNode.href= repo.homepage;
                portfolioItemNode.append(previewNode);


                // Code link
                const codeNode = document.createElement('a');
                const codeText = document.createTextNode("View Code");
                codeNode.appendChild(codeText);
                codeNode.id = "code-link";
                codeNode.title = "View code on GitHub";
                codeNode.href= repo.html_url;
                portfolioItemNode.append(codeNode);

                portfolioNode.append(portfolioItemNode);
            })
        });

        // Update Copyright date
        document.getElementById("date").innerHTML = new Date().getFullYear();
    </script>
</html>